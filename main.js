const { app, BrowserWindow } = require('electron')


// è¿è¡Œä¸»è¿›ç¨‹ -> åˆ›å»ºçª—å£ -> åˆ›å»ºæ¸²æŸ“è¿›ç¨‹
// è¿è¡Œåœ¨æ¸²æŸ“è¿›ç¨‹
/*
	APP çš„ç”Ÿå‘½å‘¨æœŸï¼ˆä¸æ˜¯äº‹ä»¶çš„å£°æ˜å‘¨æœŸï¼‰
		ready: app  		åˆå§‹åŒ–å®Œæˆ
		dom-ready   		çª—å£ä¸­çš„ DOM å…ƒç´ åŠ è½½å®Œæˆ
		did-finish-load  	å¯¼èˆªå®ŒæˆåŠ è½½æ—¶è§¦å‘
		window-all-closed 	æ‰€æœ‰çª—å£éƒ½è¢«å…³é—­æ—¶è§¦å‘
		before-quit 		åœ¨çª—å£å…³é—­å‰è§¦å‘
		will-quit 			åœ¨çª—å£å…³é—­å¹¶ä¸”é€€å‡ºåº”ç”¨æ—¶è§¦å‘
		quit 				æ‰€æœ‰çª—å£éƒ½è¢«å…³é—­æ—¶è§¦å‘	 
		closed				çª—å£å…³é—­åè§¦å‘
 */

// âœï¸ åˆ›å»ºçª—å£çš„æ–¹æ³• â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
function createWin () {
	let mainWindow = new BrowserWindow({
		x: 10,// çª—å£æ‰“å¼€çš„ä½ç½®(ç›¸å¯¹äºæ¡Œé¢å·¦ä¸Šè§’)
		y: 10, // çª—å£æ‰“å¼€çš„ä½ç½®(ç›¸å¯¹äºæ¡Œé¢å·¦ä¸‹è§’)
		show: false, //ğŸ‘€ ç­‰å†…å®¹åŠ è½½å®Œå†æ˜¾ç¤ºçª—å£, é¿å…ç™½å±
		height: 400,
		maxHeight: 1000,// è®¾ç½®çª—å£æ‹‰ä¼¸æœ€å¤§å€¼
		minHeight: 200,// è®¾ç½®çª—å£æ‹‰ä¼¸æœ€å°å€¼
		width: 600,// çª—å£å®½åº¦
		maxWidth: 1600,// è®¾ç½®çª—å£æ‹‰ä¼¸æœ€å¤§å€¼
		minWidth: 400,// è®¾ç½®çª—å£æ‹‰ä¼¸æœ€å°å€¼
		resizable: false, //ä¸å…è®¸ç¼©æ”¾çª—å£
	})

	mainWindow.on('ready-to-show', () => {
		mainWindow.show() //ğŸ‘€ç­‰å†…å®¹åŠ è½½å®Œåå†æ˜¾ç¤ºçª—å£(é¿å…ç™½å±)
	})

	// åœ¨å½“å‰çª—å£ä¸­åŠ è½½æŒ‡å®šçš„ç•Œé¢ (html)
	mainWindow.loadFile('index.html') //åŠ è½½æœ¬åœ° html æ–‡ä»¶

	// DOM å…ƒç´ å®ŒæˆåŠ è½½
	mainWindow.webContents.on('dom-ready', () => {
		console.log('222 --- DOM å®ŒæˆåŠ è½½')
	})

	// å¯¼èˆªå®ŒæˆåŠ è½½
	mainWindow.webContents.on('did-finish-load', () => {
		console.log('333 --- å¯¼èˆªå®ŒæˆåŠ è½½')
	})

	// çª—å£å…³é—­äº‹ä»¶
	mainWindow.on('close', () => {
		console.log('888 --- çª—å£å…³é—­äº†') //ğŸ‘ˆğŸ‘ˆå¦‚æœæœ‰å¤šä¸ªçª—å£, 888 å°±æ˜¯ä¼šåœ¨æœ€åä¸€æ­¥ï¼ï¼ï¼ å¦‚æœæ˜¯åªæœ‰ä¸€ä¸ªçª—å£å°±ä¸æ˜¯åœ¨æœ€åæ‰§è¡Œ, è€Œæ˜¯åœ¨ 333 ä¹‹å
		mainWindow = null //ğŸš€é‡Šæ”¾å†…å®¹ç©ºé—´
	})
}



// âš¡ï¸ åˆå§‹åŒ–å®Œæˆå, åˆ›å»ºçª—å£ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
app.on('ready', () => { 
	console.log('111 --- çª—å£è¢«åˆ›å»º')
	createWin() //ğŸ‘†è°ƒç”¨åˆ›å»ºçª—å£çš„å‡½æ•°
}) 



// âŒ çª—å£éƒ½å…³é—­åçš„äº‹ä»¶ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
app.on('window-all-closed', () => { //ğŸ”¥å¦‚æœæœ‰è¿™ä¸ªäº‹ä»¶, å°±éœ€è¦æ‰‹åŠ¨çš„å†™ä¸Š app.quit() !!! ä¸ç„¶ 555ã€666ã€777 éƒ½ä¸ä¼šè¢«æ‰§è¡Œï¼ 
	console.log('444 --- æ‰€æœ‰çª—å£éƒ½å…³é—­äº†')
	// app.quit() //é€€å‡º app
})


// ğŸ‘€ çª—å£å…³é—­å‰çš„äº‹ä»¶ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
app.on('before-quit', () => {
	console.log('555 --- çª—å£å…³é—­å‰')
	// app.quit() //é€€å‡º app
})


// ğŸ§Š çª—å£å³å°†å…³é—­äº‹ä»¶ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
app.on('will-quit', () => {
	console.log('666 --- çª—å£å³å°†å…³é—­')
	// app.quit() //é€€å‡º app
})


// âš ï¸ çª—å£å…³é—­æ—¶äº‹ä»¶ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
app.on('quit', () => {
	console.log('666 --- çª—å£å…³é—­æ—¶')
	// app.quit() //é€€å‡º app
})







// app.whenReady().then(() => {
// 	const mainWindow = new BrowserWindow({
// 		window: 600,
// 		height: 400,
// 	})

// 	// åœ¨å½“å‰çª—å£ä¸­åŠ è½½æŒ‡å®šçš„ç•Œé¢ (html)
// 	mainWindow.loadFile('index.html')

// 	// çª—å£å…³é—­äº‹ä»¶
// 	mainWindow.on('close', () => {
// 		console('çª—å£å…³é—­äº†')
// 	})
// })

// app.on('window-all-closed', () => {
// 	console('æ‰€æœ‰çª—å£éƒ½å…³é—­äº†')
// 	app.quit() //é€€å‡º app
// })